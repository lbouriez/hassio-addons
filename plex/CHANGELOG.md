Fixes on the new pipeline